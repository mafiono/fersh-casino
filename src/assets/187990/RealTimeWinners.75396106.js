(window["wpJsonpVue"]=window["wpJsonpVue"]||[]).push([["RealTimeWinners"],{"2a8b":function(e,t,i){"use strict";i("d30a")},"83b5":function(e,t,i){"use strict";var n=i("5530"),s=i("2f62");t["a"]={computed:Object(n["a"])(Object(n["a"])({},Object(s["e"])("gamesCollections",{gamesCollection:"data"})),Object(s["e"])("games",{mapIds:"mapIds"})),methods:{isRealMoneyGame:function(e){return this.gamesCollection.some((function(t){return"real_money"===t.id&&t.itemsIDS.some((function(t){return t===e}))}))},isRealMoneyGameFromIdentifier:function(e){var t=this;return this.gamesCollection.some((function(i){return"real_money"===i.id&&i.itemsIDS.some((function(i){return i===t.mapIds[e]}))}))}}}},bd10:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible?i("div",{class:["real-time-winners",{"real-time-winners--game-page":e.gameModal}],attrs:{id:"real-time-winners"}},[i("div",{staticClass:"real-time-winners__inner"},[i("ul",{staticClass:"real-time-winners__list"},e._l(e.bottomBarArray,(function(t,n){return i("real-time-winners-item",{key:n+"-"+(e.gameModal?"game":"home"),attrs:{item:t,"gtm-id":e.GTM_ELEMENTS.winners.game,index:n+1,"currency-symbol":e.currencySymbol},on:{"open-game":e.openGame}})})),1),i("button",{directives:[{name:"gtm",rawName:"v-gtm:click",value:e.GTM_ELEMENTS.winners.turn_off,expression:"GTM_ELEMENTS.winners.turn_off",arg:"click"}],staticClass:"real-time-winners__close",attrs:{id:"real-time-winners__close",type:"button",title:e.$t("close")},on:{click:e.hideBlock}},[i("icon",{staticClass:"real-time-winners__close-icon",attrs:{"icon-name":"close"}})],1)])]):e._e()},s=[],a=i("5530"),r=(i("fb6a"),i("4de4"),i("caad"),i("2532"),i("e25e"),i("8f12")),o=i("1304"),c=i("5d2a"),l=i("60b5"),m=i("c235"),u=i("83b5"),p=i("1dab"),g=i("2f62"),d=function(e,t){var i=t._c;return i("li",{key:t.props.item.gameIdentifier+t.props.item.nickname,class:["real-time-winners__item",t.data.staticClass]},[i("a",{directives:[{name:"gtm",rawName:"v-gtm:click",value:{button:t.props.gtmId,game_name:t.props.item.gameTitle,provider_name:t.props.item.gameIdentifier,position:t.props.position,amount:Math.round(t.props.item.win/100)+" "+t.props.item.currency},expression:"{\n      button: props.gtmId,\n      game_name: props.item.gameTitle,\n      provider_name: props.item.gameIdentifier,\n      position: props.position,\n      amount: `${Math.round(props.item.win / 100)} ${props.item.currency}`\n    }",arg:"click"}],staticClass:"real-time-winners__game-link",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.listeners["open-game"](t.props.item.gameIdentifier)}}},[i("span",{staticClass:"real-time-winners__game-logo-bg",style:"background-image: url('"+t.props.item.gamePicture+"');"}),i("span",{staticClass:"real-time-winners__game-name"},[t._v(t._s(t.props.item.gameTitle))]),t.props.item.nickname&&t.props.item.win?[i("span",{staticClass:"real-time-winners__nik-name"},[t._v(t._s(t.props.item.nickname))]),i("span",{staticClass:"real-time-winners__win"},[i("span",{staticClass:"real-time-winners__win-amount"},[t._v(t._s(Math.round(t.props.item.win/100))+" "+t._s(t.props.currencySymbol))])])]:t._e()],2)])},b=[],f=i("2877"),h={},_=Object(f["a"])(h,d,b,!0,null,null,null),w=_.exports,y={name:"real-time-winners",components:{RealTimeWinnersItem:w,Icon:c["a"]},mixins:[o["a"],u["a"],l["a"],m["a"]],data:function(){return{isVisible:!0,centrifuge:null,selectedListValue:"lastWinners",selectedList:this.lastWinners||[],maxListCount:10,centrifugePublicWinsSubscribtion:null}},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(g["c"])("apiV2",{mirrorUrl:"getApiPath"})),Object(g["c"])("player",{languageForUrl:"getLanguageForUrl"})),Object(g["e"])("playerSettings",["cent"])),Object(g["e"])("playerFavoriteGames",{favoriteGamesIds:"data"})),Object(g["c"])("playerAccounts",["availableBalance"])),Object(g["c"])("playerBonuses",["bonusesBalance"])),Object(g["c"])("winnersLatest",{latestWinners:"getWinnersInCurrency"})),Object(g["c"])("games",{games:"getData",mapIds:"getMapIds",gameModal:"getGameModal"})),{},{bottomBarArray:function(){var e=this.latestWinners;return this.selectedList&&this.selectedList.length&&(e=this.selectedList),e.filter((function(e){return!e||!e.devices||e.devices.includes(p["g"]?"mobile":"desktop")})).slice(0,this.maxListCount)}}),mounted:function(){0===this.latestWinners.length&&this.fetchWinners(),this.$centrifuge.isConnected()&&this.initCentrifuge(),this.$bus.on("centrifuge-connection-ready",this.initCentrifuge)},beforeDestroy:function(){this.$centrifuge.unsubscribe(r["g"].PUBLIC_WINS,this.handleCentrifugeUpdate,!0)},methods:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(g["b"])("playerSettings",{fetchPlayerSettings:"fetchData"})),Object(g["b"])("winnersLatest",{handleCentrifugeUpdate:"handleCentrifugeUpdate",fetchWinners:"fetchData"})),{},{openGame:function(e){var t=this.games[this.mapIds[e]];this.isRealMoneyGame(t.id)&&parseInt(this.availableBalance)>0&&parseInt(this.bonusesBalance)>0&&this.showNotify({type:"info",id:"game_real_money_only",text:this.$t("notification.game_real_money_only"),duration:4e3}),this.$router.push((this.languageForUrl||"")+t.slug)},initCentrifuge:function(){if(!this.isTest){var e=this.$centrifuge.getSubscription(r["g"].PUBLIC_WINS);e||this.$centrifuge.subscribe(r["g"].PUBLIC_WINS,this.handleCentrifugeUpdate)}},hideBlock:function(){this.$centrifuge.unsubscribe(r["g"].PUBLIC_WINS,this.handleCentrifugeUpdate,!0),this.isVisible=!1,this.$bus.emit("close-real-time-winners")}})},C=y,I=(i("2a8b"),Object(f["a"])(C,n,s,!1,null,null,null));t["default"]=I.exports},d30a:function(e,t,i){}}]);